var O=Object.defineProperty,$=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var R=(o,e,r)=>e in o?O(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,w=(o,e)=>{for(var r in e||(e={}))D.call(e,r)&&R(o,r,e[r]);if(v)for(var r of v(e))I.call(e,r)&&R(o,r,e[r]);return o},F=(o,e)=>$(o,K(e));var N=(o,e)=>{var r={};for(var n in o)D.call(o,n)&&e.indexOf(n)<0&&(r[n]=o[n]);if(o!=null&&v)for(var n of v(o))e.indexOf(n)<0&&I.call(o,n)&&(r[n]=o[n]);return r};import{u as T,j as s,B as m,e as U,a as d,F as L,R as C,r as l,C as k,S as G,H,b as _,c as q,d as z}from"./vendor.8ce58323.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}};W();var J="/react-interview-exercise/assets/header_logo.1094da8d.png";const Q={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},V=t=>{var a=t,{variant:o,children:e,borderColor:r}=a,n=N(a,["variant","children","borderColor"]);const c=T("Card",{variant:o});return s(m,F(w({className:"cs-card",__css:c,borderColor:r},n),{children:e}))},X={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},Y={baseStyle:{bg:"white"}};var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:X,Input:Y});const ee={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},b=U({colors:ee,components:w({Card:Q},Z)});const P=({children:o,color:e=b.colors.brand.blue,size:r=["50%","50%"],globSizes:n=[[40,80],[60,50],[20,80]],globPositions:t=[[20,10],[10,20],[20,15]],top:a,left:c,right:u,bottom:p,opacity:y=1,speed:h,radius:g,rotate:S})=>d(L,{children:[d("div",{className:"blob",style:{top:a,left:c,right:u,bottom:p,width:r[0],height:r[1],opacity:y,transform:S?`rotate(${S}deg)`:void 0},children:[s("div",{className:"glob",style:{backgroundColor:e,width:n[0][0]+"%",height:n[0][1]+"%",top:t[0][0]+"%",left:t[0][1]+"%",animation:h?`move ${h*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:g}}),s("div",{className:"glob1",style:{backgroundColor:e,width:n[1][0]+"%",height:n[1][1]+"%",top:t[1][0]+"%",left:t[1][1]+"%",animation:h?`move ${h*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:g}}),s("div",{className:"glob2",style:{backgroundColor:e,width:n[2][0]+"%",height:n[2][1]+"%",top:t[2][0]+"%",left:t[2][1]+"%",animation:h?`move ${h*800}ms infinite alternate ease-in-out`:void 0,borderRadius:g}})]}),s("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:s("defs",{children:d("filter",{id:"goo",children:[s("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),s("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),s("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),s("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:s("defs",{children:s("filter",{id:"duotone-filter-post-one",children:s("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),te=({children:o})=>d(L,{children:[d(m,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[s(P,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:b.colors.brand.green}),s(P,{size:["600px","600px"],left:"-50px",top:"-20px",color:b.colors.brand.green})]}),d(m,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[s("a",{href:"https://characterstrong.com",children:s("img",{className:"header-img",src:J,alt:"CharacterStrong Logo"})}),o]})]}),oe=async o=>{let e=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${o}%')&outFields=*&outSR=4326&f=json`,r=[],n=await(await fetch(e)).json();return r=[...n.features?n.features.map(t=>t.attributes):[]],r},re=async(o,e)=>{let r=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${o}%')${e?`%20AND%20LEAID%20%3D%20'${e}'`:""}&outFields=*&outSR=4326&f=json`,n=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${o}%')${e?`%20AND%20LEAID%20%3D%20'${e}'`:""}&outFields=*&outSR=4326&f=json`,t=[],a=await(await fetch(r)).json(),c=await(await fetch(n)).json();return t=[...a.features?a.features.map(u=>u.attributes):[],...c.features?c.features.map(u=>u.attributes):[]],t},se=()=>{const[o,e]=C.useState([]),[r,n]=C.useState([]),[t,a]=l.exports.useState(""),[c,u]=l.exports.useState(""),[p,y]=l.exports.useState(null),[h,g]=l.exports.useState(),[S,E]=l.exports.useState(),f=l.exports.useRef(),M=l.exports.useMemo(()=>o.map(i=>({value:i.LEAID,label:i.NAME})),[o]),j=l.exports.useMemo(()=>r.map(i=>({value:i.FID.toString(),label:i.NAME})),[r]),A=async()=>{if(t){const i=await oe(t);e(i.slice(0,100))}},B=async()=>{if(p){const i=await re(c,p);n(i.slice(0,100))}};return l.exports.useEffect(()=>{typeof f.current!="undefined"&&clearTimeout(f.current),f.current=setTimeout(()=>{A()},500)},[t]),l.exports.useEffect(()=>{typeof f.current!="undefined"&&clearTimeout(f.current),f.current=setTimeout(()=>{B()},500)},[p,c]),s(k,{padding:"100px",height:"90vh",children:s(G,{initialScale:.9,in:!0,children:d(V,{variant:"rounded",borderColor:"blue",children:[s(H,{children:"School Data Finder"}),d(m,{width:"100%",children:[s(m,{children:s(_,{name:"districts",options:M,placeholder:"Search districts",closeMenuOnSelect:!0,value:h,onChange:i=>{i&&(g(i),y(i.value),i.value!==p&&(E(null),u("")))},onInputChange:(i,x)=>{x.action!=="input-blur"&&a(i)},size:"sm"})}),s(m,{mt:"2",children:s(_,{name:"schools",options:j,placeholder:"Search schools",closeMenuOnSelect:!0,value:S,onChange:i=>{i&&E(i)},onInputChange:(i,x)=>{x.action!=="input-blur"&&u(i)},size:"sm"})})]})]})})})};function ne(){return d("div",{className:"App",children:[s(te,{}),s(se,{})]})}q.render(s(C.StrictMode,{children:s(z,{theme:b,children:s(ne,{})})}),document.getElementById("root"));
