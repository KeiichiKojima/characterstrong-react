var U=Object.defineProperty,k=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var F=(t,e,o)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,C=(t,e)=>{for(var o in e||(e={}))I.call(e,o)&&F(t,o,e[o]);if(v)for(var o of v(e))R.call(e,o)&&F(t,o,e[o]);return t},N=(t,e)=>k(t,G(e));var L=(t,e)=>{var o={};for(var a in t)I.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&v)for(var a of v(t))e.indexOf(a)<0&&R.call(t,a)&&(o[a]=t[a]);return o};import{u as H,j as s,B as f,e as q,a as u,F as _,R as b,r as l,C as z,S as W,H as J,b as P,c as Q,d as X}from"./vendor.8ce58323.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}};Y();var Z="/react-interview-exercise/assets/header_logo.1094da8d.png";const V={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},ee=r=>{var n=r,{variant:t,children:e,borderColor:o}=n,a=L(n,["variant","children","borderColor"]);const c=H("Card",{variant:t});return s(f,N(C({className:"cs-card",__css:c,borderColor:o},a),{children:e}))},te={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},oe={baseStyle:{bg:"white"}};var re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:te,Input:oe});const se={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},y=q({colors:se,components:C({Card:V},re)});const M=({children:t,color:e=y.colors.brand.blue,size:o=["50%","50%"],globSizes:a=[[40,80],[60,50],[20,80]],globPositions:r=[[20,10],[10,20],[20,15]],top:n,left:c,right:h,bottom:g,opacity:S=1,speed:d,radius:m,rotate:x})=>u(_,{children:[u("div",{className:"blob",style:{top:n,left:c,right:h,bottom:g,width:o[0],height:o[1],opacity:S,transform:x?`rotate(${x}deg)`:void 0},children:[s("div",{className:"glob",style:{backgroundColor:e,width:a[0][0]+"%",height:a[0][1]+"%",top:r[0][0]+"%",left:r[0][1]+"%",animation:d?`move ${d*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:m}}),s("div",{className:"glob1",style:{backgroundColor:e,width:a[1][0]+"%",height:a[1][1]+"%",top:r[1][0]+"%",left:r[1][1]+"%",animation:d?`move ${d*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:m}}),s("div",{className:"glob2",style:{backgroundColor:e,width:a[2][0]+"%",height:a[2][1]+"%",top:r[2][0]+"%",left:r[2][1]+"%",animation:d?`move ${d*800}ms infinite alternate ease-in-out`:void 0,borderRadius:m}})]}),s("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:s("defs",{children:u("filter",{id:"goo",children:[s("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),s("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),s("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),s("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:s("defs",{children:s("filter",{id:"duotone-filter-post-one",children:s("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),ae=({children:t})=>u(_,{children:[u(f,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[s(M,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:y.colors.brand.green}),s(M,{size:["600px","600px"],left:"-50px",top:"-20px",color:y.colors.brand.green})]}),u(f,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[s("a",{href:"https://characterstrong.com",children:s("img",{className:"header-img",src:Z,alt:"CharacterStrong Logo"})}),t]})]}),ne=async t=>{let e=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')&outFields=*&outSR=4326&f=json`,o=[],a=await(await fetch(e)).json();return o=[...a.features?a.features.map(r=>r.attributes):[]],o},ie=async(t,e)=>{let o=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${e?`%20AND%20LEAID%20%3D%20'${e}'`:""}&outFields=*&outSR=4326&f=json`,a=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${e?`%20AND%20LEAID%20%3D%20'${e}'`:""}&outFields=*&outSR=4326&f=json`,r=[],n=await(await fetch(o)).json(),c=await(await fetch(a)).json();return r=[...n.features?n.features.map(h=>h.attributes):[],...c.features?c.features.map(h=>h.attributes):[]],r},ce=()=>{b.useState(!1);const[t,e]=b.useState([]),[o,a]=b.useState([]),[r,n]=l.exports.useState(!1),[c,h]=l.exports.useState(""),[g,S]=l.exports.useState(""),[d,m]=l.exports.useState(null),[x,D]=l.exports.useState(null),[j,A]=l.exports.useState(),[B,E]=l.exports.useState(),p=l.exports.useRef(),O=l.exports.useMemo(()=>t.map(i=>({value:i.LEAID,label:i.NAME})),[t]),$=l.exports.useMemo(()=>o.map(i=>({value:i.FID.toString(),label:i.NAME})),[o]),K=async()=>{if(c){n(!0);const i=await ne(c);n(!1),e(i.slice(0,100))}},T=async()=>{if(d){const i=await ie(g,d);a(i.slice(0,100))}};return l.exports.useEffect(()=>{typeof p.current!="undefined"&&clearTimeout(p.current),p.current=setTimeout(()=>{K()},500)},[c]),l.exports.useEffect(()=>{typeof p.current!="undefined"&&clearTimeout(p.current),p.current=setTimeout(()=>{T()},500)},[d,g]),s(z,{padding:"100px",height:"90vh",children:s(W,{initialScale:.9,in:!0,children:u(ee,{variant:"rounded",borderColor:"blue",children:[s(J,{children:"School Data Finder"}),u(f,{width:"100%",children:[s(f,{children:s(P,{name:"districts",options:O,placeholder:"Search districts",closeMenuOnSelect:!0,value:j,onChange:i=>{i&&(A(i),m(i.value),i.value!==d&&(D(null),E(null),S("")))},onInputChange:(i,w)=>{w.action!=="input-blur"&&h(i)},size:"sm"})}),s(f,{mt:"2",children:s(P,{name:"schools",options:$,placeholder:"Search schools",closeMenuOnSelect:!0,value:B,onChange:i=>{i&&(E(i),D(i.value))},onInputChange:(i,w)=>{w.action!=="input-blur"&&S(i)},size:"sm"})})]})]})})})};function le(){return u("div",{className:"App",children:[s(ae,{}),s(ce,{})]})}Q.render(s(b.StrictMode,{children:s(X,{theme:y,children:s(le,{})})}),document.getElementById("root"));
